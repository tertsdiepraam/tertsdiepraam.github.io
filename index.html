<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Terts Diepraam</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="apple-touch-icon" href="/apple-touch-icon.png">
        <!-- Place favicon.ico in the root directory -->

        <link rel="stylesheet" type="text/css" href="styles.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    </head>
    <body>
        <!--[if lt IE 8]>
            <p class="browserupgrade">
            You are using an <strong>outdated</strong> browser. Please
            <a href="http://browsehappy.com/">upgrade your browser</a> to improve
            your experience.
            </p>
        <![endif]-->

        <div id="content">
            <div id="header">
                <img id="banner-image" src="logo.svg"></img>
                <h1 id="banner-text">TERTS DIEPRAAM</h1>
            </div>
            <div id="buttons">
                <button id="button-home">HOME</button>
                <button id="button-resume">RESUME</button>
                <button id="button-projects">PROJECTS</button>
                <a href="mailto:terts.diepraam@gmail.com">
                    <button id="button-email"><span class="fa fa-envelope"></span></button>
                </a>
                <a href="https://gitlab.com/TertsDiepraam">
                    <button id="button-gitlab"><span class="fa fa-gitlab"></span></button>
                </a>
            </div>
            <hr>
            <div id="text">
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
        <script>
         const TEXT = {
             "HOME":
`# Hi!
I'm Terts Diepraam and I am a

- software engineer,
- open source lover,
- film enthusiast,
- bad typist (although I'm trying to improve).

Want to get in contact? [Send me an email!](mailto:terts.diepraam@gmail.com)

My personal projects mostly live on GitLab. [Check it out!](https://gitlab.com/tertsdiepraam)

A few projects are still on GitHub. [Check that out too!](https://github.com/tertsdiepraam)

## More about me
Non-exhaustive list of programming-related technologies I love:
- Rust
- Python
- Godot
- Emacs
- LaTeX
- ...

I have worked with
- Linux
- Git
- Python (including NumPy, Pandas & SciPy)
- Rust
- LaTeX
- PHP
- HTML + CSS + JavaScript
- and more...
`,
             "RESUME":
`# Resume
## Education
 - Het 4e Gymnasium
 - Amsterdam University College

## Experience
 - Machine Learning Programs
 - Bit
 - Bit Academy
`,
             "PROJECTS":
`# Projects
This page contains a (non-exhaustive) list of personal projects.
## Sorters
A sorting algorithm visualizer for the browser written mostly in Rust with
WebAssembly. To my knowledge, this is one of the most feature-packed sorting
algorithm visualizers available in the browser. It supports a variety of sorting
algorithms, visualizations, colorschemes and more.

[Live demo](https://tertsdiepraam.gitlab.io/Sorters/) | [GitLab repository](https://www.gitlab.com/TertsDiepraam/Sorters)

## Removing Confusion from Petri Nets (Bachelor's Thesis)
Accompanying my bachelor's thesis, I wrote a Python implementation of the
algorithm described in the thesis. More information can be found on the Gitlab
repository and the thesis.

[GitLab repository](https://gitlab.com/tertsdiepraam/petrinet) | [Thesis](Terts_Diepraam_Thesis.pdf)

## Conway's Game of Life
Back in 2017, I implemented John Conway's Game of Life in JavaScript.

[Live demo](https://tertsdiepraam.github.io/Conways-Game-of-Life/) | [GitHub repository](https://www.github.com/TertsDiepraam/Conways-Game-of-Life/)
`,
         };

         let text_str = "";
         let text_el = document.getElementById('text');
         updateText("HOME");

         document.getElementById('button-home').onclick = () => {
             updateText("HOME");
         }

         document.getElementById('button-resume').onclick = () => {
             updateText("RESUME");
         }

         document.getElementById('button-projects').onclick = () => {
             updateText("PROJECTS");
         }

         var STATE = 'WRITE' // or 'DELETE' or 'CORRECT' or 'DONE'
         var current_idx = 0;
         var correct_text = '';
         var mistakes_text = '';
         var current_text_key = null;
         var next_text_key = null;
         var last_mistake_idx = null;
         var write_past_mistake = 0;

         function update() {
             switch (STATE) {
                 case 'WRITE':
                     if (current_idx >= correct_text.length) {
                         if (last_mistake_idx === null) {
                             STATE = 'DONE';
                         } else {
                             STATE = 'CORRECT';
                         }
                     } else {
                         if (last_mistake_idx === null) {
                             showUntil(current_idx);
                             if (correct_text[current_idx] !== mistakes_text[current_idx]) {
                                 write_past_mistake = getRandomInt(5,20);
                                 last_mistake_idx = current_idx;
                             }
                             current_idx++;
                         } else {
                             if (current_idx >= last_mistake_idx + write_past_mistake) {
                                 STATE = 'CORRECT'
                             } else {
                                 showUntil(current_idx);
                                 current_idx++
                             }
                         }
                     }
                     break;
                 case 'DELETE':
                     if (current_idx <= 0) {
                         current_idx = 0;
                         STATE = 'WRITE';
                         current_text_key = next_text_key;
                         correct_text = TEXT[current_text_key];
                         mistakes_text = makeMistakes(correct_text);
                     } else {
                         showUntil(current_idx);
                         current_idx -= 5;
                     }
                     break;
                 case 'CORRECT':
                     if (current_idx <= last_mistake_idx) {
                         STATE = 'WRITE';
                         mistakes_array = mistakes_text.split('');
                         mistakes_array[current_idx] = correct_text[current_idx];
                         mistakes_array[current_idx+1] = correct_text[current_idx+1];
                         mistakes_text = mistakes_array.join('');
                         last_mistake_idx = null;
                         write_past_mistake = null;
                     } else {
                         showUntil(current_idx);
                         current_idx--;
                     }
                 case 'DONE':
                     break;
             }
         }

         setInterval(update, 20);
         updateText('HOME');

         function getRandomInt(min, max) {
             min = Math.ceil(min);
             max = Math.floor(max);
             return Math.floor(Math.random() * (max - min)) + min; //The maximum is exclusive and the minimum is inclusive
         }

         function swap(array, idx) {
             let tmp = array[idx];
             array[idx] = array[idx+1];
             array[idx+1] = tmp;
         }

         function makeMistakes(txt) {
             // Force a copy of the text
             let text = txt.split('');
             let num_mistakes = text.length / 40 + getRandomInt(-5,5);
             for (var i=0; i<num_mistakes; i++) {
                 if (getRandomInt(0,2)) {
                     // Swap two characters
                     let idx = getRandomInt(0, text.length-1);
                     swap(text, idx);
                 } else {
                     // Type neighbouring character
                     // TODO
                 }
             }
             return text.join('');
         }

         function showUntil(idx) {
             text_el.innerHTML = marked(mistakes_text.substr(0,idx));
             let last = text_el.lastElementChild;
             if (!last) {
                 last = document.createElement("p");
             }
             while (["UL", "OL"].includes(last.nodeName)) {
                 last = last.lastElementChild;
             }
             last.innerHTML += "<span id='cursor'>|</span>";
         }

         async function updateText(key) {
             if (key == current_text_key) {
                 STATE = 'WRITE';
             } else {
                 next_text_key = key;
                 STATE = 'DELETE';
                 last_mistake_idx = null;
             }
         }
        </script>
    </body>
</html>
